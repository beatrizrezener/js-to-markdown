 # PropTypes To Table

 ## parseProptypeToMDTable

 Initial function to parse propTypes into markdown table.

 The function receives the propTypes object generated by `React-Docgen`.

 It will add the markdown table header and run through all prop object keys, parsing it as a markdown table row and adding it to result array.

```
exports.parseProptypeToMDTable = (proptypes) => {
  let propTypesMDTableArray = [];
  if (!proptypes) {
    return;
  }
  const headerSeparator = globalConfiguration.outputJsMarkdown
    ? "---"
    : "\n---";
  const headerTitle = "## PropTypes";
  const tableTitle = "Property  | Type  | Default | Required | Description";
  const tableSeparator = "--------- | :---: |  :---:  |   :---:  | -----------";
  propTypesMDTableArray.push(
    ParseProptypeUtils.getStringPreparedToMarkdown(headerSeparator)
  );
  propTypesMDTableArray.push(
    ParseProptypeUtils.getStringPreparedToMarkdown(headerTitle)
  );
  propTypesMDTableArray.push(
    ParseProptypeUtils.getStringPreparedToMarkdown(tableTitle)
  );
  propTypesMDTableArray.push(
    ParseProptypeUtils.getStringPreparedToMarkdown(tableSeparator)
  );
  for (let [key, value] of Object.entries(proptypes)) {
    propTypesMDTableArray.push(parseProptype(key, value));
  }
  return propTypesMDTableArray;
};
```
---

 ## parseProptype

 Funtion to choose which parse method to run depending on the propType type.

```
const parseProptype = (propTypeName, propTyeObj) => {
  const valueName = propTyeObj.type ? propTyeObj.type.name : propTyeObj.name;
  if (valueName === "enum") {
    return parseOneOfProptype(propTypeName, propTyeObj);
  } else if (valueName === "shape") {
    return parseShapeProptype(propTypeName, propTyeObj);
  } else {
    return parseCommonProptypes(propTypeName, propTyeObj);
  }
};
```
---

 ## parseOneOfProptype

 Funtion to parse `One Of` propType.

 This function presents the possible options defined on proptype and add the to an array displayed at `Description` column

```
const parseOneOfProptype = (propTypeName, propTyeObj) => {
  let oneOfValues = \`One of: \[\`;
  const reducer = (accumulator, currentValue) => {
    accumulator.value = accumulator.value + ", " + currentValue.value;
    return accumulator;
  };
  if (propTyeObj.type) {
    if (Array.isArray(propTyeObj.type.value)) {
      oneOfValues += propTyeObj.type.value.reduce(reducer).value;
    } else {
      oneOfValues += propTyeObj.type.value;
    }
  } else if (propTyeObj.value) {
    if (Array.isArray(propTyeObj.value)) {
      oneOfValues += propTyeObj.value.reduce(reducer).value;
    } else {
      oneOfValues += propTyeObj.value;
    }
  }
  oneOfValues = oneOfValues.replace(/,\$/, "").replace(/\'/g, "\`");
  oneOfValues += \`\]\`;
  if (propTyeObj.description) {
    oneOfValues += \` - \${propTyeObj.description}\`;
  }
  const tableRow = ParseProptypeUtils.getPropTypesTableRowAsString(
    propTypeName,
    propTyeObj.type ? propTyeObj.type.name : propTyeObj.name,
    ParseProptypeUtils.getDefaultValue(propTyeObj.defaultValue),
    propTyeObj.required,
    oneOfValues
  );
  return ParseProptypeUtils.getStringPreparedToMarkdown(tableRow);
};
```
---

 ## parseShapeProptype

 Function to parse `shape` propTypes.

 This function writes the first line of the shape proptype with the name, the fix object type and a desciption if exist.

 The function uses the `parseProptype` to write the proptypes to the respective table row.

```
const parseShapeProptype = (shapeKey, shapeObject) => {
  let propTypesShapeArray = [];
  const shapeTitleRow = ParseProptypeUtils.getPropTypesTableRowAsString(
    shapeKey,
    "object",
    "",
    shapeObject.required,
    shapeObject.description
  );
  propTypesShapeArray.push(
    ParseProptypeUtils.getStringPreparedToMarkdown(shapeTitleRow)
  );
  const objectEntries = shapeObject.type
    ? shapeObject.type.value
    : shapeObject.value;
  const internalPropTypesArray = Object.entries(objectEntries).map((entrie) => {
    return parseProptype(
      \`\${DOUBLE_BREAKING_SPACE}\${shapeKey}.\${entrie[0]}\`,
      entrie[1]
    );
  });
  propTypesShapeArray = propTypesShapeArray.concat(internalPropTypesArray);
  const arrayToString = propTypesShapeArray.join("");
  return arrayToString;
};
```
---

 ## parseCommonProptypes

 Function to parse other propTypes as `boolean`, `string`, ... .

```
const parseCommonProptypes = (propTypeKey, propTyeObj) => {
  const tableRow = ParseProptypeUtils.getPropTypesTableRowAsString(
    propTypeKey,
    propTyeObj.type ? propTyeObj.type.name : propTyeObj.name,
    ParseProptypeUtils.getDefaultValue(propTyeObj.defaultValue),
    propTyeObj.required,
    propTyeObj.description
  );
  return ParseProptypeUtils.getStringPreparedToMarkdown(tableRow);
};
```
